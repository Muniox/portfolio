server {
    listen 80;
    root /usr/share/nginx/html;

    # Design 1 - main branch
    location = /1 { return 301 /1/; }
    location /1/ {
        alias /usr/share/nginx/html/1/;
        try_files $uri $uri/ /1/index.html;
    }

    # Design 2 - second-design branch
    location = /2 { return 301 /2/; }
    location /2/ {
        alias /usr/share/nginx/html/2/;
        try_files $uri $uri/ /2/index.html;
    }

    # Design 3 - design branch
    location = /3 { return 301 /3/; }
    location /3/ {
        alias /usr/share/nginx/html/3/;
        try_files $uri $uri/ /3/index.html;
    }

    # Design 4 - forth-design branch
    location = /4 { return 301 /4/; }
    location /4/ {
        alias /usr/share/nginx/html/4/;
        try_files $uri $uri/ /4/index.html;
    }

    # Design 5 - test branch
    location = /5 { return 301 /5/; }
    location /5/ {
        alias /usr/share/nginx/html/5/;
        try_files $uri $uri/ /5/index.html;
    }

    # Design 6 - Angular SSR (static browser build)
    location = /6 { return 301 /6/; }
    location /6/ {
        alias /usr/share/nginx/html/6/portfolio-site/browser/;
        sub_filter '<base href="/">' '<base href="/6/">';
        sub_filter_once on;
        index index.html;
    }

    # Default - design 1
    location / {
        try_files $uri $uri/ /index.html;
    }
}
